
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.4.1
  creationTimestamp: null
  name: models.model.kubedl.io
spec:
  group: model.kubedl.io
  names:
    kind: Model
    listKind: ModelList
    plural: models
    shortNames:
    - mo
    singular: model
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.latestVersion.modelVersion
      name: Latest-Version
      type: string
    - jsonPath: .status.latestVersion.imageName
      name: Latest-Image
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Model is the Schema for the models API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ModelSpec defines the desired state of Model Model defines the storage where the model is located, the imageRepo for pushing the generated model container. Each model has a series of ModelVersion associated with it.
            properties:
              imageRepo:
                description: ImageRepo is the image repository to push the generated image. e.g. docker hub.  "kubernetes/pause"
                type: string
              storage:
                description: Storage is the location where the model is stored.
                properties:
                  aliCloudNas:
                    properties:
                      attributes:
                        additionalProperties:
                          type: string
                        type: object
                      path:
                        description: The path under which the model is stored, e.g. /models/my_model1
                        type: string
                      server:
                        description: Nas server address
                        type: string
                      vers:
                        type: string
                    type: object
                  localStorage:
                    description: If the localStorage is defined in parent model, nodeName must be set, that is, all output models will be stored on the same node. And all subsequent modelVersion will inherit the localStorage from parent model. If the localStorage is defined in modelVersion, it will overwrite the parent model LocalStorage if any.
                    properties:
                      nodeName:
                        description: The node for storing the model. This node will be where the chief worker run to output the model.
                        type: string
                      path:
                        description: The local path on the host
                        type: string
                    type: object
                type: object
            type: object
          status:
            description: ModelStatus defines the observed state of Model
            properties:
              latestVersion:
                properties:
                  imageName:
                    description: The image name of the latest model
                    type: string
                  modelVersion:
                    description: The name of the latest ModelVersion
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
